<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAF Campaign Tool - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-bullhorn"></i>
                    <span>RAF Campaign</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <!-- Main Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <div class="nav-item active" data-section="dashboard">
                        <i class="fas fa-th-large"></i>
                        <span>Dashboard</span>
                    </div>
                    <div class="nav-item" data-section="brands">
                        <i class="fas fa-building"></i>
                        <span>Brands</span>
                    </div>
                    <div class="nav-item" data-section="all-campaigns">
                        <i class="fas fa-rocket"></i>
                        <span>All Campaigns</span>
                    </div>
                </div>

                <!-- Pipeline Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Pipeline</div>
                    <div class="nav-item" data-section="hot-brands">
                        <i class="fas fa-fire"></i>
                        <span>Hot Brands</span>
                        <span class="badge" id="hotBrandsCount">0</span>
                    </div>
                    <div class="nav-item" data-section="warm-brands">
                        <i class="fas fa-temperature-half"></i>
                        <span>Warm Brands</span>
                        <span class="badge" id="warmBrandsCount">0</span>
                    </div>
                    <div class="nav-item" data-section="lost-brands">
                        <i class="fas fa-heart-crack"></i>
                        <span>Lost Brands</span>
                    </div>
                </div>

                <!-- Campaigns Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Campaigns</div>
                    <div class="nav-item" data-section="converted-campaigns">
                        <i class="fas fa-check-circle"></i>
                        <span>Converted to Campaign</span>
                    </div>
                    <div class="nav-item" data-section="running-campaigns">
                        <i class="fas fa-play-circle"></i>
                        <span>Campaign Running</span>
                    </div>
                    <div class="nav-item" data-section="live-campaigns">
                        <i class="fas fa-broadcast-tower"></i>
                        <span>Campaign Live</span>
                    </div>
                    <div class="nav-item" data-section="invoice-stage">
                        <i class="fas fa-file-invoice-dollar"></i>
                        <span>Invoice Stage</span>
                    </div>
                </div>

                <!-- Database Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Database</div>
                    <div class="nav-item" data-section="creator-database">
                        <i class="fas fa-users"></i>
                        <span>Creator Database</span>
                    </div>
                </div>

                <!-- Admin Section (Only visible to admins) -->
                <div class="nav-section admin-only" id="adminNavSection">
                    <div class="nav-section-title">Admin</div>
                    <div class="nav-item" data-section="user-management">
                        <i class="fas fa-user-cog"></i>
                        <span>User Management</span>
                    </div>
                    <div class="nav-item" data-section="access-control">
                        <i class="fas fa-shield-alt"></i>
                        <span>Access Control</span>
                    </div>
                </div>

                <!-- Logout -->
                <div class="nav-section" style="margin-top: auto; padding-top: 20px; border-top: 1px solid var(--gray-700);">
                    <div class="nav-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <div class="page-title">
                    <h1 id="pageTitle">Dashboard</h1>
                    <p id="pageSubtitle">Welcome back! Here's your campaign overview.</p>
                </div>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="globalSearch" placeholder="Search...">
                    </div>
                    <div class="user-menu" id="userMenu">
                        <div class="user-avatar" id="userAvatar">A</div>
                        <div class="user-info">
                            <div class="name" id="userName">Admin</div>
                            <div class="role" id="userRole">Administrator</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section class="content-section active" id="section-dashboard">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon primary">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="totalBrands">0</h3>
                            <p>Total Brands</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="activeCampaigns">0</h3>
                            <p>Active Campaigns</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon warning">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="hotLeads">0</h3>
                            <p>Hot Leads</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon danger">
                            <i class="fas fa-heart-crack"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="lostBrands">0</h3>
                            <p>Lost Brands</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon info">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="totalCreators">0</h3>
                            <p>Total Creators</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon success">
                            <i class="fas fa-redo"></i>
                        </div>
                        <div class="stat-details">
                            <h3 id="retainerBrands">0</h3>
                            <p>Retainer Brands</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="table-container">
                    <div class="table-header">
                        <h2>Recent Activity</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand</th>
                                <th>Status</th>
                                <th>Campaign</th>
                                <th>Updated</th>
                            </tr>
                        </thead>
                        <tbody id="recentActivityTable">
                            <tr>
                                <td colspan="4" class="empty-state">
                                    <p>No recent activity</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Brands Section -->
            <section class="content-section" id="section-brands">
                <div class="table-container">
                    <div class="table-header">
                        <h2>All Brands</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addBrandModal')">
                                <i class="fas fa-plus"></i> Add Brand
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>POC Name</th>
                                <th>POC Email</th>
                                <th>POC Number</th>
                                <th>Budget Status</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="brandsTableBody">
                            <tr>
                                <td colspan="7" class="empty-state">
                                    <p>No brands added yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Hot Brands Section -->
            <section class="content-section" id="section-hot-brands">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-fire" style="color: var(--danger-color);"></i> Hot Brands</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addHotBrandModal')">
                                <i class="fas fa-plus"></i> Add Hot Brand
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>POC Name</th>
                                <th>POC Email</th>
                                <th>Budget</th>
                                <th>Pipeline Status</th>
                                <th>Aflog POC</th>
                                <th>Brand Tool</th>
                                <th>Task</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="hotBrandsTableBody">
                            <tr>
                                <td colspan="9" class="empty-state">
                                    <p>No hot brands yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Warm Brands Section -->
            <section class="content-section" id="section-warm-brands">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-temperature-half" style="color: var(--warning-color);"></i> Warm Brands</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addWarmBrandModal')">
                                <i class="fas fa-plus"></i> Add Warm Brand
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>POC Name</th>
                                <th>POC Email</th>
                                <th>Budget</th>
                                <th>Pipeline Status</th>
                                <th>Aflog POC</th>
                                <th>Brand Tool</th>
                                <th>Task</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="warmBrandsTableBody">
                            <tr>
                                <td colspan="9" class="empty-state">
                                    <p>No warm brands yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Lost Brands Section -->
            <section class="content-section" id="section-lost-brands">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-heart-crack" style="color: var(--gray-500);"></i> Lost Brands</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>POC Name</th>
                                <th>POC Email</th>
                                <th>Lost Reason</th>
                                <th>Lost Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="lostBrandsTableBody">
                            <tr>
                                <td colspan="6" class="empty-state">
                                    <p>No lost brands</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
                        <!-- Converted to Campaign Section -->
            <section class="content-section" id="section-converted-campaigns">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Converted to Campaign</h2>
                        <div class="table-actions">
                            <button class="btn btn-success" onclick="openModal('addCreatorsToCampaignModal')">
                                <i class="fas fa-user-plus"></i> Add Creators
                            </button>
                            <button class="btn btn-primary" onclick="openModal('addConvertedCampaignModal')">
                                <i class="fas fa-plus"></i> Add Campaign
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>Campaign Name</th>
                                <th>POC Name</th>
                                <th>POC Email</th>
                                <th>Budget</th>
                                <th>Pipeline Status</th>
                                <th>Creators</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="convertedCampaignsTableBody">
                            <tr>
                                <td colspan="8" class="empty-state">
                                    <p>No converted campaigns yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Campaign Running Section -->
            <section class="content-section" id="section-running-campaigns">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-play-circle" style="color: var(--primary-color);"></i> Campaign Running</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addRunningCampaignModal')">
                                <i class="fas fa-plus"></i> Add Running Campaign
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>Campaign Name</th>
                                <th>POC Name</th>
                                <th>Current Status</th>
                                <th>Retainer</th>
                                <th>Start Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="runningCampaignsTableBody">
                            <tr>
                                <td colspan="7" class="empty-state">
                                    <p>No running campaigns</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Campaign Live Section -->
            <section class="content-section" id="section-live-campaigns">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-broadcast-tower" style="color: var(--success-color);"></i> Campaign Live</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addLiveCampaignModal')">
                                <i class="fas fa-plus"></i> Add Live Campaign
                            </button>
                        </div>
                    </div>
                    <div class="campaign-grid" id="liveCampaignsGrid">
                        <div class="empty-state">
                            <i class="fas fa-broadcast-tower"></i>
                            <h3>No Live Campaigns</h3>
                            <p>Campaigns that are live will appear here with their metrics</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Invoice Stage Section -->
            <section class="content-section" id="section-invoice-stage">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-file-invoice-dollar" style="color: var(--warning-color);"></i> Invoice Stage</h2>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="openModal('addInvoiceModal')">
                                <i class="fas fa-plus"></i> Add Invoice
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Brand Name</th>
                                <th>Campaign Name</th>
                                <th>Campaign Closed At</th>
                                <th>Invoice Amount</th>
                                <th>Invoiced</th>
                                <th>Invoice Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="invoiceStageTableBody">
                            <tr>
                                <td colspan="7" class="empty-state">
                                    <p>No invoices yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- All Campaigns Section -->
            <section class="content-section" id="section-all-campaigns">
                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-rocket" style="color: var(--primary-color);"></i> All Campaigns</h2>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Campaign Name</th>
                                <th>Brand Name</th>
                                <th>Status</th>
                                <th>Start Date</th>
                                <th>Retainer</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="allCampaignsTableBody">
                            <tr>
                                <td colspan="6" class="empty-state">
                                    <p>No campaigns yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Creator Database Section -->
            <section class="content-section" id="section-creator-database">
                <!-- Restricted Access Overlay (for non-authorized users) -->
                <div class="restricted-overlay" id="creatorRestrictedOverlay" style="display: none;">
                    <div class="restricted-message">
                        <i class="fas fa-lock"></i>
                        <h2>Access Restricted</h2>
                        <p>You don't have permission to access the Creator Database. Please contact your administrator.</p>
                        <button class="btn btn-primary" onclick="navigateTo('dashboard')">Go to Dashboard</button>
                    </div>
                </div>

                <!-- Bookmarked Creators Bar -->
                <div class="bookmarked-creators" id="bookmarkedCreatorsBar" style="display: none;">
                    <h4><i class="fas fa-bookmark"></i> Bookmarked Creators (<span id="bookmarkCount">0</span>)</h4>
                    <div class="bookmarked-list" id="bookmarkedList"></div>
                    <div style="margin-top: 12px; display: flex; gap: 10px;">
                        <button class="btn btn-success btn-sm" onclick="openModal('exportBookmarksModal')">
                            <i class="fas fa-file-export"></i> Export to Campaign
                        </button>
                        <button class="btn btn-danger btn-sm" onclick="clearAllBookmarks()">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h2><i class="fas fa-users" style="color: var(--info-color);"></i> Creator Database</h2>
                        <div class="table-actions">
                            <button class="btn btn-secondary" onclick="openModal('csvUploadModal')">
                                <i class="fas fa-file-csv"></i> Bulk CSV Upload
                            </button>
                            <button class="btn btn-primary" onclick="openModal('addCreatorModal')">
                                <i class="fas fa-plus"></i> Add Creator
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filters -->
                    <div class="creator-filters">
                        <input type="text" id="creatorSearchInput" placeholder="Search by name, username...">
                        <select id="filterNiche">
                            <option value="">All Niches</option>
                            <option value="Fashion">Fashion</option>
                            <option value="Beauty & Skincare">Beauty & Skincare</option>
                            <option value="Food">Food</option>
                            <option value="Fitness">Fitness</option>
                            <option value="Sports">Sports</option>
                            <option value="Parenting">Parenting</option>
                            <option value="Travel">Travel</option>
                            <option value="Comedy">Comedy</option>
                            <option value="Tech">Tech</option>
                            <option value="Professionals">Professionals</option>
                            <option value="Performing Arts">Performing Arts</option>
                            <option value="Automobile">Automobile</option>
                        </select>
                        <select id="filterCategory">
                            <option value="">All Categories</option>
                            <option value="Nano">Nano (&lt;15K)</option>
                            <option value="Micro">Micro (&lt;150K)</option>
                            <option value="Macro">Macro (&lt;550K)</option>
                            <option value="Mega">Mega (550K+)</option>
                        </select>
                        <select id="filterGender">
                            <option value="">All Genders</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                        <select id="filterState">
                            <option value="">All States</option>
                        </select>
                        <button class="btn btn-secondary btn-sm" onclick="resetCreatorFilters()">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAllCreators" onchange="toggleSelectAllCreators()"></th>
                                <th>Bookmark</th>
                                <th>Name</th>
                                <th>Username</th>
                                <th>Followers</th>
                                <th>Category</th>
                                <th>Niche</th>
                                <th>Subniche</th>
                                <th>State</th>
                                <th>City</th>
                                <th>Gender</th>
                                <th>Contact</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="creatorDatabaseTableBody">
                            <tr>
                                <td colspan="13" class="empty-state">
                                    <p>No creators in database yet</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- User Management Section (Admin Only) -->
            <section class="content-section" id="section-user-management">
                <div class="admin-section">
                    <h3><i class="fas fa-user-shield"></i> User Management</h3>
                    <p>Add, edit, or remove team members who can access the RAF Campaign Tool.</p>
                    <button class="btn" onclick="openModal('addUserModal')">
                        <i class="fas fa-user-plus"></i> Add New User
                    </button>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h2>Team Members</h2>
                    </div>
                    <div id="userManagementList">
                        <!-- Users will be populated here -->
                        <div class="empty-state">
                            <i class="fas fa-users"></i>
                            <h3>Loading users...</h3>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Access Control Section (Admin Only) -->
            <section class="content-section" id="section-access-control">
                <div class="admin-section">
                    <h3><i class="fas fa-shield-alt"></i> Access Control</h3>
                    <p>Control which team members can access the Creator Database.</p>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <h2>Creator Database Access</h2>
                    </div>
                    <div class="access-control-list" id="accessControlList">
                        <!-- Access controls will be populated here -->
                        <div class="empty-state">
                            <i class="fas fa-lock"></i>
                            <h3>Loading access controls...</h3>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>
        <!-- ===== MODALS ===== -->

    <!-- Add Brand Modal -->
    <div class="modal-overlay" id="addBrandModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add New Brand</h2>
                <button class="modal-close" onclick="closeModal('addBrandModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addBrandForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Brand Name <span class="required">*</span></label>
                            <input type="text" name="brandName" required>
                        </div>
                        <div class="form-group">
                            <label>POC Name <span class="required">*</span></label>
                            <input type="text" name="pocName" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Email <span class="required">*</span></label>
                            <input type="email" name="pocEmail" required>
                        </div>
                        <div class="form-group">
                            <label>POC Number <span class="required">*</span></label>
                            <input type="tel" name="pocNumber" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Budget Status <span class="required">*</span></label>
                            <select name="budgetStatus" required>
                                <option value="">Select Budget</option>
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Low">Low</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Status <span class="required">*</span></label>
                            <select name="status" required>
                                <option value="">Select Status</option>
                                <option value="Hot Brands">Hot Brands</option>
                                <option value="Warm Brands">Warm Brands</option>
                                <option value="Lost Brands">Lost Brands</option>
                                <option value="Converted to Campaign">Converted to Campaign</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Notes / Comments</label>
                        <textarea name="comments" rows="3" placeholder="Any additional notes..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addBrandModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveBrand()">
                    <i class="fas fa-save"></i> Save Brand
                </button>
            </div>
        </div>
    </div>

    <!-- Add Hot Brand Modal -->
    <div class="modal-overlay" id="addHotBrandModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Hot Brand</h2>
                <button class="modal-close" onclick="closeModal('addHotBrandModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addHotBrandForm">
                    <div class="form-group">
                        <label>Select Brand <span class="required">*</span></label>
                        <select name="brandId" id="hotBrandSelect" required onchange="autoFillBrandDetails('hot')">
                            <option value="">Select a brand</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Name</label>
                            <input type="text" name="pocName" id="hotPocName" readonly>
                        </div>
                        <div class="form-group">
                            <label>POC Email</label>
                            <input type="email" name="pocEmail" id="hotPocEmail" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Number</label>
                            <input type="tel" name="pocNumber" id="hotPocNumber" readonly>
                        </div>
                        <div class="form-group">
                            <label>Budget Status</label>
                            <input type="text" name="budgetStatus" id="hotBudgetStatus" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Pipeline Status <span class="required">*</span></label>
                            <select name="pipelineStatus" required>
                                <option value="">Select Pipeline Status</option>
                                <option value="Initial Talks">Initial Talks</option>
                                <option value="Requirement Received">Requirement Received</option>
                                <option value="Proposal Sent">Proposal Sent</option>
                                <option value="Conversion Talks">Conversion Talks</option>
                                <option value="Campaign Stage">Campaign Stage</option>
                                <option value="Invoice Stage">Invoice Stage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Aflog POC <span class="required">*</span></label>
                            <select name="aflogPoc" id="hotAflogPoc" required>
                                <option value="">Select Aflog POC</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Assign Task To</label>
                            <select name="taskAssignee" id="hotTaskAssignee">
                                <option value="">Select Team Member</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" name="hasBrandTool" id="hotHasBrandTool">
                            <label for="hotHasBrandTool">Brand has external tool</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Brief / Comments</label>
                        <textarea name="comments" rows="3" placeholder="Add brief or comments..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addHotBrandModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveHotBrand()">
                    <i class="fas fa-save"></i> Save Hot Brand
                </button>
            </div>
        </div>
    </div>

    <!-- Add Warm Brand Modal -->
    <div class="modal-overlay" id="addWarmBrandModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Warm Brand</h2>
                <button class="modal-close" onclick="closeModal('addWarmBrandModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addWarmBrandForm">
                    <div class="form-group">
                        <label>Select Brand <span class="required">*</span></label>
                        <select name="brandId" id="warmBrandSelect" required onchange="autoFillBrandDetails('warm')">
                            <option value="">Select a brand</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Name</label>
                            <input type="text" name="pocName" id="warmPocName" readonly>
                        </div>
                        <div class="form-group">
                            <label>POC Email</label>
                            <input type="email" name="pocEmail" id="warmPocEmail" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Number</label>
                            <input type="tel" name="pocNumber" id="warmPocNumber" readonly>
                        </div>
                        <div class="form-group">
                            <label>Budget Status</label>
                            <input type="text" name="budgetStatus" id="warmBudgetStatus" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Pipeline Status <span class="required">*</span></label>
                            <select name="pipelineStatus" required>
                                <option value="">Select Pipeline Status</option>
                                <option value="Initial Talks">Initial Talks</option>
                                <option value="Requirement Received">Requirement Received</option>
                                <option value="Proposal Sent">Proposal Sent</option>
                                <option value="Conversion Talks">Conversion Talks</option>
                                <option value="Campaign Stage">Campaign Stage</option>
                                <option value="Invoice Stage">Invoice Stage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Aflog POC <span class="required">*</span></label>
                            <select name="aflogPoc" id="warmAflogPoc" required>
                                <option value="">Select Aflog POC</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Assign Task To</label>
                            <select name="taskAssignee" id="warmTaskAssignee">
                                <option value="">Select Team Member</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" name="hasBrandTool" id="warmHasBrandTool">
                            <label for="warmHasBrandTool">Brand has external tool</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Brief / Comments</label>
                        <textarea name="comments" rows="3" placeholder="Add brief or comments..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addWarmBrandModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveWarmBrand()">
                    <i class="fas fa-save"></i> Save Warm Brand
                </button>
            </div>
        </div>
    </div>

    <!-- Add Converted Campaign Modal -->
    <div class="modal-overlay" id="addConvertedCampaignModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Converted Campaign</h2>
                <button class="modal-close" onclick="closeModal('addConvertedCampaignModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addConvertedCampaignForm">
                    <div class="form-group">
                        <label>Select Brand <span class="required">*</span></label>
                        <select name="brandId" id="convertedBrandSelect" required onchange="autoFillBrandDetails('converted')">
                            <option value="">Select a brand</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Campaign Name <span class="required">*</span></label>
                        <input type="text" name="campaignName" required placeholder="Enter campaign name">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>POC Name</label>
                            <input type="text" name="pocName" id="convertedPocName" readonly>
                        </div>
                        <div class="form-group">
                            <label>POC Email</label>
                            <input type="email" name="pocEmail" id="convertedPocEmail" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Budget Status</label>
                            <input type="text" name="budgetStatus" id="convertedBudgetStatus" readonly>
                        </div>
                        <div class="form-group">
                            <label>Pipeline Status <span class="required">*</span></label>
                            <select name="pipelineStatus" required>
                                <option value="">Select Pipeline Status</option>
                                <option value="Campaign Stage" selected>Campaign Stage</option>
                                <option value="Invoice Stage">Invoice Stage</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Comments</label>
                        <textarea name="comments" rows="3" placeholder="Any additional notes..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addConvertedCampaignModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveConvertedCampaign()">
                    <i class="fas fa-save"></i> Save Campaign
                </button>
            </div>
        </div>
    </div>

    <!-- Add Running Campaign Modal -->
    <div class="modal-overlay" id="addRunningCampaignModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Running Campaign</h2>
                <button class="modal-close" onclick="closeModal('addRunningCampaignModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addRunningCampaignForm">
                    <div class="form-group">
                        <label>Select Campaign <span class="required">*</span></label>
                        <select name="campaignId" id="runningCampaignSelect" required onchange="autoFillCampaignDetails('running')">
                            <option value="">Select a campaign</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Brand Name</label>
                            <input type="text" name="brandName" id="runningBrandName" readonly>
                        </div>
                        <div class="form-group">
                            <label>POC Name</label>
                            <input type="text" name="pocName" id="runningPocName" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Current Status <span class="required">*</span></label>
                            <select name="currentStatus" required>
                                <option value="">Select Status</option>
                                <option value="Content Creation">Content Creation</option>
                                <option value="Review Pending">Review Pending</option>
                                <option value="Changes Requested">Changes Requested</option>
                                <option value="Approved">Approved</option>
                                <option value="Scheduled">Scheduled</option>
                                <option value="Published">Published</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Start Date <span class="required">*</span></label>
                            <input type="date" name="startDate" required>
                        </div>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" name="isRetainer" id="runningIsRetainer">
                        <label for="runningIsRetainer">This is a Retainer Client</label>
                    </div>
                    <div class="form-group">
                        <label>Comments</label>
                        <textarea name="comments" rows="3" placeholder="Any additional notes..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addRunningCampaignModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveRunningCampaign()">
                    <i class="fas fa-save"></i> Save Running Campaign
                </button>
            </div>
        </div>
    </div>

    <!-- Add Live Campaign Modal -->
    <div class="modal-overlay" id="addLiveCampaignModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Live Campaign</h2>
                <button class="modal-close" onclick="closeModal('addLiveCampaignModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addLiveCampaignForm">
                    <div class="form-group">
                        <label>Select Campaign <span class="required">*</span></label>
                        <select name="campaignId" id="liveCampaignSelect" required onchange="autoFillCampaignDetails('live')">
                            <option value="">Select a campaign</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Brand Name</label>
                            <input type="text" name="brandName" id="liveBrandName" readonly>
                        </div>
                        <div class="form-group">
                            <label>Go Live Date <span class="required">*</span></label>
                            <input type="date" name="goLiveDate" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Total Reach</label>
                            <input type="number" name="totalReach" placeholder="Enter total reach">
                        </div>
                        <div class="form-group">
                            <label>Total Engagement</label>
                            <input type="number" name="totalEngagement" placeholder="Enter total engagement">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Total Views</label>
                            <input type="number" name="totalViews" placeholder="Enter total views">
                        </div>
                        <div class="form-group">
                            <label>ROI</label>
                            <input type="text" name="roi" placeholder="Enter ROI">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Campaign Report Link</label>
                        <input type="url" name="reportLink" placeholder="Enter report link">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addLiveCampaignModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveLiveCampaign()">
                    <i class="fas fa-save"></i> Save Live Campaign
                </button>
            </div>
        </div>
    </div>

    <!-- Add Invoice Modal -->
    <div class="modal-overlay" id="addInvoiceModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Invoice</h2>
                <button class="modal-close" onclick="closeModal('addInvoiceModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addInvoiceForm">
                    <div class="form-group">
                        <label>Select Campaign <span class="required">*</span></label>
                        <select name="campaignId" id="invoiceCampaignSelect" required onchange="autoFillCampaignDetails('invoice')">
                            <option value="">Select a campaign</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Brand Name</label>
                            <input type="text" name="brandName" id="invoiceBrandName" readonly>
                        </div>
                        <div class="form-group">
                            <label>Campaign Closed At <span class="required">*</span></label>
                            <input type="date" name="closedAt" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Invoice Amount <span class="required">*</span></label>
                            <input type="number" name="invoiceAmount" required placeholder="Enter amount">
                        </div>
                        <div class="form-group">
                            <label>Invoice Status <span class="required">*</span></label>
                            <select name="invoiceStatus" required>
                                <option value="">Select Status</option>
                                <option value="Invoice Cleared">Invoice Cleared</option>
                                <option value="Invoice Delayed">Invoice Delayed</option>
                                <option value="Invoice Pending">Invoice Pending</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" name="isInvoiced" id="isInvoiced">
                        <label for="isInvoiced">Invoice Sent</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addInvoiceModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveInvoice()">
                    <i class="fas fa-save"></i> Save Invoice
                </button>
            </div>
        </div>
    </div>

    <!-- Add Creator Modal -->
    <div class="modal-overlay" id="addCreatorModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Creator</h2>
                <button class="modal-close" onclick="closeModal('addCreatorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addCreatorForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name <span class="required">*</span></label>
                            <input type="text" name="name" required>
                        </div>
                        <div class="form-group">
                            <label>Username <span class="required">*</span></label>
                            <input type="text" name="username" required placeholder="@username">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Profile Link <span class="required">*</span></label>
                            <input type="url" name="link" required placeholder="https://instagram.com/...">
                        </div>
                        <div class="form-group">
                            <label>Followers <span class="required">*</span></label>
                            <input type="number" name="followers" required placeholder="Enter follower count" onchange="autoCalculateCategory()">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Niche <span class="required">*</span></label>
                            <select name="niche" id="creatorNiche" required onchange="updateSubnicheOptions()">
                                <option value="">Select Niche</option>
                                <option value="Fashion">Fashion</option>
                                <option value="Beauty & Skincare">Beauty & Skincare</option>
                                <option value="Food">Food</option>
                                <option value="Fitness">Fitness</option>
                                <option value="Sports">Sports</option>
                                <option value="Parenting">Parenting</option>
                                <option value="Travel">Travel</option>
                                <option value="Comedy">Comedy</option>
                                <option value="Tech">Tech</option>
                                <option value="Professionals">Professionals</option>
                                <option value="Performing Arts">Performing Arts</option>
                                <option value="Automobile">Automobile</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Subniche <span class="required">*</span></label>
                            <select name="subniche" id="creatorSubniche" required>
                                <option value="">Select Subniche</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Category (Auto-calculated)</label>
                            <input type="text" name="category" id="creatorCategory" readonly placeholder="Based on followers">
                        </div>
                        <div class="form-group">
                            <label>Gender <span class="required">*</span></label>
                            <select name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>State <span class="required">*</span></label>
                            <input type="text" name="state" required placeholder="Enter state">
                        </div>
                        <div class="form-group">
                            <label>City <span class="required">*</span></label>
                            <input type="text" name="city" required placeholder="Enter city">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Contact Number <span class="required">*</span></label>
                            <input type="tel" name="contactNo" required placeholder="Enter contact number">
                        </div>
                        <div class="form-group">
                            <label>Email <span class="required">*</span></label>
                            <input type="email" name="email" required placeholder="Enter email">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Avg Reel Views (Optional)</label>
                            <input type="number" name="avgReelViews" placeholder="Enter average reel views">
                        </div>
                        <div class="form-group">
                            <label>Engagement Rate (Optional)</label>
                            <input type="text" name="engagement" placeholder="e.g., 5.2%">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Commercials (Optional)</label>
                        <input type="text" name="commercials" placeholder="Enter commercial rates">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addCreatorModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveCreator()">
                    <i class="fas fa-save"></i> Save Creator
                </button>
            </div>
        </div>
    </div>

    <!-- CSV Upload Modal -->
    <div class="modal-overlay" id="csvUploadModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Bulk CSV Upload</h2>
                <button class="modal-close" onclick="closeModal('csvUploadModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="csv-upload-area" id="csvDropArea" onclick="document.getElementById('csvFileInput').click()">
                    <i class="fas fa-file-csv"></i>
                    <h3>Drag & Drop CSV file here</h3>
                    <p>or click to browse</p>
                    <input type="file" id="csvFileInput" accept=".csv" onchange="handleCSVUpload(event)">
                </div>
                <div class="form-group">
                    <label>CSV Format Required:</label>
                    <p style="font-size: 12px; color: var(--gray-500); margin-top: 8px;">
                        Name, Link, Username, Followers, Niche, Subniche, Category, State, City, Contact No, Email, Gender
                    </p>
                    <button class="btn btn-outline btn-sm" style="margin-top: 10px;" onclick="downloadCSVTemplate()">
                        <i class="fas fa-download"></i> Download Template
                    </button>
                </div>
                <div id="csvPreview" style="display: none; margin-top: 20px;">
                    <h4>Preview (<span id="csvRowCount">0</span> rows)</h4>
                    <div style="max-height: 200px; overflow-y: auto; margin-top: 10px; border: 1px solid var(--gray-200); border-radius: 8px;">
                        <table class="data-table" id="csvPreviewTable">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Username</th>
                                    <th>Followers</th>
                                    <th>Niche</th>
                                </tr>
                            </thead>
                            <tbody id="csvPreviewBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('csvUploadModal')">Cancel</button>
                <button class="btn btn-primary" id="uploadCSVBtn" onclick="processCSVUpload()" disabled>
                    <i class="fas fa-upload"></i> Upload Creators
                </button>
            </div>
        </div>
    </div>

    <!-- Add User Modal (Admin Only) -->
    <div class="modal-overlay" id="addUserModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add New User</h2>
                <button class="modal-close" onclick="closeModal('addUserModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-group">
                        <label>Full Name <span class="required">*</span></label>
                        <input type="text" name="name" required placeholder="Enter full name">
                    </div>
                    <div class="form-group">
                        <label>Email <span class="required">*</span></label>
                        <input type="email" name="email" required placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label>Password <span class="required">*</span></label>
                        <input type="password" name="password" required placeholder="Enter password" minlength="6">
                    </div>
                    <div class="form-group">
                        <label>Role <span class="required">*</span></label>
                        <select name="role" required>
                            <option value="">Select Role</option>
                            <option value="admin">Admin</option>
                            <option value="user">User</option>
                        </select>
                    </div>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" name="creatorDbAccess" id="creatorDbAccess" checked>
                        <label for="creatorDbAccess">Grant Creator Database Access</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addUserModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveUser()">
                    <i class="fas fa-user-plus"></i> Add User
                </button>
            </div>
        </div>
    </div>

    <!-- Export Bookmarks Modal -->
    <div class="modal-overlay" id="exportBookmarksModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Export to Campaign</h2>
                <button class="modal-close" onclick="closeModal('exportBookmarksModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 16px;">Select a campaign to export <strong id="exportCreatorCount">0</strong> bookmarked creators:</p>
                <div class="export-options" id="exportCampaignOptions">
                    <!-- Campaign options will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('exportBookmarksModal')">Cancel</button>
                <button class="btn btn-success" onclick="exportBookmarksToCampaign()">
                    <i class="fas fa-file-export"></i> Export
                </button>
            </div>
        </div>
    </div>

    <!-- Add Creators to Campaign Modal -->
    <div class="modal-overlay" id="addCreatorsToCampaignModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Add Creators from Database</h2>
                <button class="modal-close" onclick="closeModal('addCreatorsToCampaignModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Select Campaign <span class="required">*</span></label>
                    <select id="selectCampaignForCreators" required>
                        <option value="">Select a campaign</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Search & Select Creators</label>
                    <input type="text" id="searchCreatorsForCampaign" placeholder="Search creators...">
                </div>
                <div style="max-height: 300px; overflow-y: auto; margin-top: 16px; border: 1px solid var(--gray-200); border-radius: 8px;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAllCreatorsForCampaign"></th>
                                <th>Name</th>
                                <th>Username</th>
                                <th>Followers</th>
                                <th>Niche</th>
                            </tr>
                        </thead>
                        <tbody id="creatorsForCampaignList">
                            <tr>
                                <td colspan="5" class="empty-state">
                                    <p>No creators available</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addCreatorsToCampaignModal')">Cancel</button>
                <button class="btn btn-success" onclick="addSelectedCreatorsToCampaign()">
                    <i class="fas fa-user-plus"></i> Add to Campaign
                </button>
            </div>
        </div>
    </div>

    <!-- Include the app.js file -->
    <script src="app.js"></script>
</body>
</html>

